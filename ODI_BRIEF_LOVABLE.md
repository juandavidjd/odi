# ODI - Brief Completo para Lovable.io

## üéØ RESUMEN EJECUTIVO

**ODI (Organismo Digital Industrial)** no es un software tradicional. Es una **entidad digital viva** dise√±ada bajo principios biol√≥gicos para operar ecosistemas industriales de manera aut√≥noma. Piensa en ODI como el "sistema nervioso central" de un negocio de distribuci√≥n de repuestos de motos en Colombia, que percibe, interpreta, decide y aprende sin intervenci√≥n humana constante.

---

## üß¨ ¬øQU√â ES ODI?

### Definici√≥n Ontol√≥gica
ODI es una **nueva categor√≠a de entidad**: no es un ERP, no es un CRM, no es un chatbot. Es un **Organismo Digital** con:
- **Anatom√≠a**: √ìrganos digitales interdependientes (no m√≥dulos aislados)
- **Fisiolog√≠a**: Un "Pulso Cognitivo" que opera en ciclo: Percibir ‚Üí Interpretar ‚Üí Razonar ‚Üí Actuar ‚Üí Aprender
- **Homeostasis**: Capacidad de auto-correcci√≥n y equilibrio operativo

### Met√°fora Central
> "ODI es a un ERP lo que un ser humano es a un libro de enciclopedia. El libro contiene informaci√≥n pero es est√°tico; el humano lee, aprende, corrige sus errores y act√∫a proactivamente."

---

## üèóÔ∏è ANATOM√çA DEL ODI (√ìrganos Digitales)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    ORGANISMO DIGITAL INDUSTRIAL                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                  ‚îÇ
‚îÇ  üß† CEREBRO EJECUTIVO (SRM-OS)                                  ‚îÇ
‚îÇ     ‚îî‚îÄ Toma decisiones, aplica l√≥gica de negocio                ‚îÇ
‚îÇ     ‚îî‚îÄ Coordina todos los √≥rganos                               ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  üîÆ CORTEX COGNITIVO (RAG + Knowledge Base)                     ‚îÇ
‚îÇ     ‚îî‚îÄ 460MB de conocimiento t√©cnico de motos indexado          ‚îÇ
‚îÇ     ‚îî‚îÄ Comprende lenguaje natural: "la vela pa la boxer"        ‚îÇ
‚îÇ        se traduce a "buj√≠a para BAJAJ Boxer"                    ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  ‚ö° SISTEMA NERVIOSO (n8n + Webhooks)                           ‚îÇ
‚îÇ     ‚îî‚îÄ Coordina impulsos entre √≥rganos                          ‚îÇ
‚îÇ     ‚îî‚îÄ Orquesta flujos de trabajo autom√°ticos                   ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  üëÅÔ∏è SISTEMA SENSORIAL (Vision + WhatsApp + Voice)               ‚îÇ
‚îÇ     ‚îî‚îÄ Percibe: texto, voz, im√°genes, PDFs                      ‚îÇ
‚îÇ     ‚îî‚îÄ Extrae productos de cat√°logos con GPT-4 Vision           ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  üí™ SISTEMA MOTOR (Shopify + APIs)                              ‚îÇ
‚îÇ     ‚îî‚îÄ Ejecuta acciones: crear productos, procesar √≥rdenes      ‚îÇ
‚îÇ     ‚îî‚îÄ 13 tiendas Shopify conectadas                            ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îÇ  üõ°Ô∏è SISTEMA INMUNE (CATRMU + Auditor√≠a)                         ‚îÇ
‚îÇ     ‚îî‚îÄ Detecta anomal√≠as, corrige errores autom√°ticamente       ‚îÇ
‚îÇ     ‚îî‚îÄ Gestiona reputaci√≥n y confianza del ecosistema           ‚îÇ
‚îÇ                                                                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üé≠ ACTORES DEL SISTEMA (Personas que interact√∫an)

### 1. **Martha (Supervisora Humana)**
- Rol: Validadora final de decisiones cr√≠ticas
- Canal: WhatsApp
- Permisos: Puede aprobar/rechazar cotizaciones, ver auditor√≠as
- Estado: `modo_maximo: SUPERVISADO`

### 2. **Tony (Voz Masculina de ODI)**
- Rol: Asistente de ventas por voz
- Canal: WhatsApp Audio + ElevenLabs TTS
- Personalidad: Profesional, t√©cnico, directo
- Estado: Opera aut√≥nomamente para consultas est√°ndar

### 3. **Ramona (Voz Femenina de ODI)**
- Rol: Soporte y seguimiento de clientes
- Canal: WhatsApp Audio + ElevenLabs TTS
- Personalidad: C√°lida, emp√°tica, paciente
- Estado: Opera aut√≥nomamente

### 4. **Cliente Final**
- Rol: Usuario que consulta repuestos
- Canal: WhatsApp
- Interacci√≥n t√≠pica: "Necesito pastillas de freno para Pulsar 200"

---

## üîÑ FLUJO OPERATIVO (El Pulso Cognitivo)

```
CLIENTE ESCRIBE EN WHATSAPP
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. PERCIBIR     ‚îÇ ‚Üê Webhook recibe mensaje
‚îÇ    (Sensorial)  ‚îÇ   Detecta: texto, audio, imagen
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. INTERPRETAR  ‚îÇ ‚Üê Clasificador de intenci√≥n (SALUDO, FITMENT, PRECIO)
‚îÇ    (Cortex)     ‚îÇ   Extrae entidades: marca=BAJAJ, modelo=Pulsar, a√±o=2020
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. RAZONAR      ‚îÇ ‚Üê Consulta Knowledge Base (460MB embeddings)
‚îÇ    (SRM-OS)     ‚îÇ   Busca compatibilidad, calcula precios
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. ACTUAR       ‚îÇ ‚Üê Genera respuesta con producto + precio
‚îÇ    (Motor)      ‚îÇ   Puede: cotizar, crear orden, escalar a Martha
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. APRENDER     ‚îÇ ‚Üê Registra en auditor√≠a (Google Sheets)
‚îÇ    (Memoria)    ‚îÇ   Ajusta confianza por SKU
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üìä DATOS ACTUALES DEL ECOSISTEMA

### Empresas (13 proveedores)
| # | Empresa | Productos | Im√°genes | Estado |
|---|---------|-----------|----------|--------|
| 1 | Kaiqi | ~500 | 138 | ‚úÖ Listo |
| 2 | Bara | ~700 | 698 | ‚úÖ Listo |
| 3 | Yokomar | ~1000 | 1000 | ‚úÖ Listo |
| 4 | DFG | ~400 | 369 | ‚úÖ Listo |
| 5 | Imbra | ~2000 | 2068 | ‚úÖ Listo |
| 6 | Duna | ~1200 | 1197 | ‚úÖ Listo |
| 7 | Japan | ~150 | 155 | ‚úÖ Listo |
| 8 | Leo | ~120 | 120 | ‚úÖ Listo |
| 9 | Vaisand | ~50 | 50 | ‚úÖ Listo |
| 10 | Store | ~66 | 66 | ‚úÖ Listo |
| 11 | Armotos | 1,586 | 824 | ‚úÖ Extra√≠do |
| 12 | Vitton | Pendiente | 299 | üü° En proceso |
| 13 | CBI | 204 | 181 | ‚úÖ Extra√≠do |

### Infraestructura T√©cnica
- **Servidor**: DigitalOcean Ubuntu 22.04 (64.23.170.118)
- **API ODI**: Puerto 8800 (FastAPI)
- **Cortex RAG**: Puerto 8803 (ChromaDB + OpenAI)
- **n8n**: Puerto 5678 (Orquestador de workflows)
- **Knowledge Base**: 759 archivos indexados, 460MB embeddings

---

## üé® INTERFACES NECESARIAS

### 1. **Dashboard Principal (Supervisi√≥n)**
**Usuario**: Martha / Administrador
**Funciones**:
- Vista en tiempo real del "pulso" del organismo
- Gr√°fico de latido card√≠aco mostrando actividad
- Alertas de decisiones que requieren aprobaci√≥n
- Estad√≠sticas: consultas hoy, ventas, SKUs activos

**Visualizaci√≥n sugerida**:
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  ODI EST√Å VIVO                    ‚ô•Ô∏è 72 bpm     ‚îÇ
‚îÇ  ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  üìä HOY                                         ‚îÇ
‚îÇ  ‚îú‚îÄ Consultas: 147                              ‚îÇ
‚îÇ  ‚îú‚îÄ Cotizaciones: 23                            ‚îÇ
‚îÇ  ‚îú‚îÄ Ventas: $2,450,000                          ‚îÇ
‚îÇ  ‚îî‚îÄ Autonom√≠a: 87%                              ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  ‚ö° ACTIVIDAD RECIENTE                          ‚îÇ
‚îÇ  ‚îî‚îÄ [Timeline de eventos en tiempo real]        ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  üîî REQUIERE ATENCI√ìN (3)                       ‚îÇ
‚îÇ  ‚îî‚îÄ [Cards de decisiones pendientes]            ‚îÇ
‚îÇ                                                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### 2. **Panel de Auditor√≠a**
**Usuario**: Martha / Analista
**Funciones**:
- Historial de todas las decisiones de ODI
- Filtros por: fecha, SKU, modo (aut√≥nomo/supervisado), resultado
- Exportar a Excel
- Gr√°ficos de tendencia de autonom√≠a por SKU

### 3. **Gesti√≥n de Cat√°logos**
**Usuario**: Operador
**Funciones**:
- Subir PDFs de cat√°logos de proveedores
- Ver estado de extracci√≥n (progreso, productos extra√≠dos)
- Validar/corregir productos extra√≠dos
- Generar CSV para Shopify

### 4. **Chat de Prueba**
**Usuario**: Desarrollador / QA
**Funciones**:
- Simular conversaciones de WhatsApp
- Ver respuesta de ODI en tiempo real
- Ver trazabilidad: qu√© √≥rgano proces√≥ qu√©
- Debug: ver JSON de cada paso

### 5. **Configuraci√≥n de Actores**
**Usuario**: Administrador
**Funciones**:
- Gestionar actores (Martha, Tony, Ramona)
- Configurar permisos y modos m√°ximos
- Agregar/editar n√∫meros de WhatsApp
- Configurar voces (ElevenLabs voice IDs)

---

## üéØ PRINCIPIOS DE DISE√ëO UI/UX

### 1. **Met√°fora Biol√≥gica**
- Usar lenguaje de "organismo vivo", no de "sistema"
- Animaciones sutiles que sugieran "vida" (pulso, respiraci√≥n)
- Colores que reflejen estados de salud (verde=saludable, amarillo=atenci√≥n, rojo=cr√≠tico)

### 2. **Transparencia Cognitiva**
- Siempre mostrar POR QU√â ODI tom√≥ una decisi√≥n
- Mostrar la cadena de razonamiento
- Nunca "caja negra"

### 3. **Supervisi√≥n Sin Fricci√≥n**
- Martha debe poder aprobar/rechazar con UN TAP
- Notificaciones push para decisiones urgentes
- Resumen ejecutivo, no datos crudos

### 4. **Principio ODI**: 
> "ODI decide sin hablar, habla solo cuando ya decidi√≥"

La UI debe reflejar esto: ODI no pregunta, propone. El humano valida.

---

## üîå API ENDPOINTS DISPONIBLES

```
BASE_URL: http://64.23.170.118:8800

# Salud
GET  /health                          ‚Üí Estado del organismo

# Consultas Cognitivas
POST /v1/query                        ‚Üí Procesar consulta natural
POST /v1/fitment                      ‚Üí B√∫squeda de compatibilidad

# Cat√°logo
POST /v1/catalog/search               ‚Üí B√∫squeda sem√°ntica de productos

# Autenticaci√≥n
POST /v1/auth/santo-y-sena            ‚Üí Autenticaci√≥n por frase secreta
POST /v1/auth/jwt                     ‚Üí Obtener token JWT

# Leads (Systeme.io)
POST /v1/webhook/systeme/new-lead     ‚Üí Recibir lead de funnel
GET  /v1/leads                        ‚Üí Listar leads capturados
GET  /v1/leads/{event_id}             ‚Üí Obtener lead espec√≠fico

# √ìrdenes
POST /v1/orders                       ‚Üí Crear orden
GET  /v1/orders/{order_id}            ‚Üí Obtener orden
```

---

## üé® PALETA DE COLORES SUGERIDA

| Elemento | Color | Uso |
|----------|-------|-----|
| Primario | `#0A2540` | Headers, texto principal |
| Secundario | `#00D4AA` | Acciones positivas, "vivo" |
| Acento | `#635BFF` | CTAs, elementos interactivos |
| Alerta | `#FFC107` | Requiere atenci√≥n |
| Cr√≠tico | `#DC3545` | Errores, estados cr√≠ticos |
| Fondo | `#F6F9FC` | Background general |

---

## üì± RESPONSIVE PRIORITIES

1. **Mobile First**: Martha supervisa desde su celular
2. **WhatsApp-like**: Familiaridad en componentes de chat
3. **Dashboard Desktop**: An√°lisis profundo en pantalla grande
4. **PWA**: Instalable, notificaciones push

---

## üîê AUTENTICACI√ìN MULTI-NIVEL

1. **Nivel 1 - Santo y Se√±a**: Frase secreta conocida (ej: "La Roca es firme")
2. **Nivel 2 - JWT**: Token temporal para sesiones
3. **Nivel 3 - Voice ID**: Reconocimiento de voz (futuro)
4. **Nivel 4 - Face ID**: Reconocimiento facial (futuro)

---

## üìã CHECKLIST DE FUNCIONALIDADES CR√çTICAS

### MVP (Prioridad 1)
- [ ] Dashboard con pulso vital en tiempo real
- [ ] Panel de aprobaci√≥n de decisiones pendientes
- [ ] Vista de auditor√≠a con filtros b√°sicos
- [ ] Chat de prueba para simular conversaciones

### Fase 2
- [ ] Gesti√≥n de cat√°logos con upload de PDFs
- [ ] Configuraci√≥n de actores y permisos
- [ ] Gr√°ficos de autonom√≠a por SKU
- [ ] Exportar reportes

### Fase 3
- [ ] Notificaciones push
- [ ] Autenticaci√≥n biom√©trica
- [ ] Modo oscuro
- [ ] Internacionalizaci√≥n (ES/EN)

---

## üè¢ CONTEXTO DE NEGOCIO

**Empresa**: LA ROCA MOTOREPUESTOS (NIT 10.776.560-1)
**Ubicaci√≥n**: Dosquebradas, Risaralda, Colombia
**Industria**: Distribuci√≥n de repuestos de motocicletas
**Modelo**: Distribuidor h√≠brido asistido por IA
**Clientes**: Talleres mec√°nicos, tiendas de repuestos, usuarios finales
**Cat√°logo**: +5,000 SKUs de 43 marcas de motos

---

## üí° INSPIRACI√ìN DE DISE√ëO

1. **Linear.app** - Simplicidad y velocidad
2. **Vercel Dashboard** - Estatus en tiempo real
3. **Notion** - Flexibilidad y claridad
4. **Stripe Dashboard** - Datos complejos bien presentados
5. **Health apps (Apple Health)** - Met√°fora de signos vitales

---

## üìû CONTACTO

**Creador**: Juan David Jim√©nez
**Proyecto**: ODI - Organismo Digital Industrial
**Estado**: Pre-producci√≥n (v17.1 certificado)
**Blocker actual**: Verificaci√≥n Meta Business para WhatsApp

---

*"ODI no es software que usas. Es un organismo que vive contigo."*
